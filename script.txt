from beerlog.database import engine
from beerlog.models import Beer
from sqlmodel import Session, select
from imp import reload
import sqlite3
import beerlog

beerlog add "SuperBock" "Lager" - -flavor = 6 - -image = 3 - -cost = 8

print(1 + 3)

black - l 79 beerlog

sqlite3 beerlog.db

uvicorn beerlog.api: api --reload


with Session(engine) as session:
    sql = select(Beer)
    results = session.exec(sql)
    for beer in results:
        print(beer.name, beer.rate)


with Session(engine) as session:
    beer = Beer(name="Two Chefs", style="QPA", flavor=5, image=6, cost=6)
    session.add(beer)
    session.commit()


flake8

poetry add pytest --dev

pytest -v

export BEERLOG_DATABASE__url="sqlite:///testing.db"

kubectl create deployment --image beerlog:1.0 beerlog --port 8000 -dry-run=client -o yaml
kubectl expose deployment beerlog --dry-run=client -o yaml
kubectl expose deployment beerlog --type LoadBalancer --dry-run=client -o yaml > kubernetes/service.yaml